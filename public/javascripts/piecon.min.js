(function(){var i={},j=null,l=null,h=null,k=null,g={},m={color:"#ff0084",background:"#bbb",shadow:"#fff",fallback:!1},e,q=navigator.userAgent.toLowerCase();e=function(c){return-1!==q.indexOf(c)};var r=e("msie");e("chrome");e("chrome")||e("safari");var s=e("safari")&&!e("chrome");e("mozilla")&&!e("chrome")&&e("safari");var n=function(c){for(var a=document.getElementsByTagName("link"),e=document.getElementsByTagName("head")[0],f=0;f<a.length;f++)"undefined"!==typeof a[f]&&"icon"===a[f].getAttribute("rel")&&
e.removeChild(a[f]);a=document.createElement("link");a.type="image/x-icon";a.rel="icon";a.href=c;document.getElementsByTagName("head")[0].appendChild(a)},o=function(){k||(k=document.createElement("canvas"),k.width=16,k.height=16);return k},p=function(c){g.fallback&&(document.title=0<c?"("+c+"%) "+h:h)};i.setOptions=function(c){g={};for(var a in m)g[a]=c.hasOwnProperty(a)?c[a]:m[a];return this};i.setProgress=function(c){h||(h=document.title);if(!l||!j){var a;a:{a=document.getElementsByTagName("link");
for(var e=0;e<a.length;e++)if((a[e].getAttribute("rel")||"").match(/\bicon\b/)){a=a[e];break a}a=!1}l=j=a?a.getAttribute("href"):"/favicon.ico"}if(!isNaN(parseFloat(c))&&isFinite(c)){if(!o().getContext||r||s||!0==g.fallback)return p(c);"force"===g.fallback&&p(c);var f=c,b=o(),d=b.getContext("2d"),f=f||0,c=j;a=new Image;a.onload=function(){d.clearRect(0,0,16,16);d.beginPath();d.moveTo(b.width/2,b.height/2);d.arc(b.width/2,b.height/2,Math.min(b.width/2,b.height/2),0,Math.PI*2,false);d.fillStyle=g.shadow;
d.fill();d.beginPath();d.moveTo(b.width/2,b.height/2);d.arc(b.width/2,b.height/2,Math.min(b.width/2,b.height/2)-2,0,Math.PI*2,false);d.fillStyle=g.background;d.fill();if(f>0){d.beginPath();d.moveTo(b.width/2,b.height/2);d.arc(b.width/2,b.height/2,Math.min(b.width/2,b.height/2)-2,-0.5*Math.PI,(-0.5+2*f/100)*Math.PI,false);d.lineTo(b.width/2,b.height/2);d.fillStyle=g.color;d.fill()}d&&n(b.toDataURL())};c.match(/^data/)||(a.crossOrigin="anonymous");a.src=c}else return!1};i.reset=function(){h&&(document.title=
h);l&&(j=l,n(j))};i.setOptions(m);window.Piecon=i})();
